hubble:
  hubble_fqdn: {{ hubble_fqdn }}
  oauth_fqdn: {{ oauth_fqdn }}
rook:
  rook_fqdn: {{ rook_fqdn }}
  oauth_fqdn: {{ oauth_fqdn }}
kubernetes-dashboard:
  extraArgs:
  - --enable-skip-login
  - --enable-insecure-login
  metricsScraper:
    enabled: true
  metrics-server:
    enabled: true
    args:
      - --kubelet-preferred-address-types=InternalIP
      - --kubelet-insecure-tls
  rbac:
    clusterReadOnlyRole: true
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-gcp
      external-dns.alpha.kubernetes.io/hostname: {{ k8s_dashboard_fqdn }}
      nginx.ingress.kubernetes.io/auth-url: "https://{{ oauth_fqdn }}/oauth2/auth"
      nginx.ingress.kubernetes.io/auth-signin: "https://{{ oauth_fqdn }}/oauth2/start"
      nginx.ingress.kubernetes.io/auth-response-headers: "x-auth-request-user, x-auth-request-email, x-auth-request-access-token"
      ingress.kubernetes.io/configuration-snippet: |
        auth_request_set $token $upstream_http_authorization;
        proxy_pass_header Authorization;
      kubernetes.io/ingress.class: nginx
    hosts:
      - {{ k8s_dashboard_fqdn }}
    tls:
      - hosts:
          - {{ k8s_dashboard_fqdn }}
        secretName: tls.{{ k8s_dashboard_fqdn }}